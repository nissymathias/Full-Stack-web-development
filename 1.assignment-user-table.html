<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">

    </head>
    <body>
        <div id="root">

        </div>
        <script src="./1.assignment-user-table_files/react.development.js.download"></script>
        <script src="./1.assignment-user-table_files/react-dom.development.js.download"></script>
        <script src="./1.assignment-user-table_files/babel.js.download"></script>
        <script src="./1.assignment-user-table_files/axios.min.js.download"></script>

        <script type="text/babel">
            const rootHandle = document.getElementById('root')
            const url='https://jsonplaceholder.typicode.com/users'
            const {useState,useEffect} = React 

            function UsersTable (props){
                const [countries,setCountries]= useState([])

                useEffect(()=>{
                    axios.get(url)
                        .then((response)=>{
                            
                        const result = response.data
                        console.log(result)
                        setCountries(result)
                        })
                    //const xhr=new XMLHttpRequest()
                    //xhr.open('GET',url)
                    //xhr.send()
                    //xhr.onload = function(){
                    //    const result = JSON.parse(xhr.responseText)
                    //    setCountries(result)
                    //}
                },[])
                return (
                    <div>                    
                        <h1>Listing users - {countries.length}</h1>
                        <table>
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>name</th>
                                    <th>email</th>
                                    <th>city</th>
                                    <th>position</th>
                                </tr>
                            </thead>
                            <tbody>
                                {countries.map((ele)=>{
                                    return (
                                        <tr key ={ele.id}>
                                            <td>{ele.id}</td>
                                            <td>{ele.name}</td>
                                            <td>{ele.email}</td>
                                            <td>{ele.address.city}</td>
                                            <td>{ele.address.geo.lat},{ele.address.geo.lng}</td>
                                        </tr> 
                                    )
                                })}
                                
                            </tbody>
                            </table>
                    </div>
                )
            }
            ReactDOM.render(<UsersTable/>,rootHandle)
        </script>
    
</body></html>
